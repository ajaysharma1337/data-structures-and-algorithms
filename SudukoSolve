#include <stdio.h>

int isSafe(int grid[9][9], int row, int col, int num){
    int i,j;
    for(i=0;i<9;i++)
        if(grid[row][i]==num || grid[i][col]==num)
            return 0;

    int startRow = row - row%3;
    int startCol = col - col%3;

    for(i=0;i<3;i++)
        for(j=0;j<3;j++)
            if(grid[startRow+i][startCol+j]==num)
                return 0;

    return 1;
}

int solve(int grid[9][9]){
    int row,col,num;

    for(row=0;row<9;row++){
        for(col=0;col<9;col++){
            if(grid[row][col]==0){
                for(num=1;num<=9;num++){
                    if(isSafe(grid,row,col,num)){
                        grid[row][col]=num;
                        if(solve(grid))
                            return 1;
                        grid[row][col]=0;
                    }
                }
                return 0;
            }
        }
    }
    return 1;
}

int main(){
    int grid[9][9], i,j;

    printf("Enter Sudoku (0 for empty):\n");
    for(i=0;i<9;i++)
        for(j=0;j<9;j++)
            scanf("%d",&grid[i][j]);

    if(solve(grid)){
        printf("\nSolved Sudoku:\n");
        for(i=0;i<9;i++){
            for(j=0;j<9;j++)
                printf("%d ",grid[i][j]);
            printf("\n");
        }
    } else
        printf("No Solution");

    return 0;
}